<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Epub Editor</title>
    <style>
        #drop_zone {
        border: 5px solid blue;
        width:  200px;
        height: 100px;
        }
    </style>
</head>
<body>
    <h1>Epub Editor</h1>
    <table id="inputsTable">
        <tr>
            <td>
                <div id="drop_zone">
                    <p>Drag epub file to this Drop Zone ...</p>
                </div>
                <input type="file" id="fileNameInput" />
            </td>
            <td><textarea id="mutatorScriptInput" rows="7" cols="70">// example: remove "chapter" from title of each chapter
// dom is the dom for each chapter
// return true if chapter modified, false if not changed
let title = dom.querySelector("h1");
let changed = (title != null);
if (changed) {
    title.textContent = title.textContent.replace("Chapter", "");
}
return changed;
            </textarea></td>
        </tr>
    </table>
    <table id="controls" hidden="true">
        <tr>
            <td></td>
            <td><button id="runScriptButton">Run script above to modify Epub</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="checkForInvalidXhtmlButton">Check for Invalid XHTML</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="checkForZeroSizeImagesButton">Check for Zero Size Images</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="removeZeroSizeImagesButton">Remove Zero Size images</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="removeAllImagesButton">Remove All Images (except cover)</button></td>
        </tr>
        <tr hidden="true">
            <td></td>
            <td><button id="listImagesButton">List Images in view order</button></td>
        </tr>
        <tr hidden="true">
            <td>Watermark</td>
            <td><textarea id="watermark" type="text" name="watermark" rows="6" cols="70">&lt;a href="www.novelparadise.com"&gt;This EPUB was downloaded from www.novelparadise.com&lt;/a&gt;</textarea></td>
        </tr>
        <tr hidden="true">
            <td></td>
            <td><button id="watermarkButton">Apply Watermark</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="extractImagesButton">Extract Images</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="removeElementsButton">Delete elements matching CSS</button><input id="removeCssInput" type="text" value="div.m-thou.mb48"></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="cleanChrysanthemumGardenButton">Clean ChrysanthemumGarden</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="sanitizeButton">Sanitize XHTML</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="convertTableToDivButton">Convert royalroad Table to Div (better tolino readability)</button></td>
        </tr>
    </table>
    <div id="outputTarget">
        <h4 id="listHeader"></h4>
        <ol id="fileList">

        </ol>
    </div>
    <script src="jszip.min.js"></script>
    <script src="epub.js"></script>
    <script src="Sanitize.js"></script>
    <script src="main.js"></script>
</body>
</html>
